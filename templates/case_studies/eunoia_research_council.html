{% extends "base.html" %}

{% block title %}Eunoia Research Council: Modular Research Assistant Prompt Manager{% endblock %}

{% block extra_css %}
<style>
  /* Enhanced case study styles */
  .hero-section {
    background: linear-gradient(rgba(0,0,0,0.6), rgba(0,0,0,0.6)), 
                url('/static/cover_oregon_prototype/html/styles/img/CO_Cannon Beach-edited copy.png') center center/cover no-repeat;
    min-height: 500px;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    border-radius: 1rem;
    box-shadow: 0 8px 32px rgba(0,0,0,0.15);
    margin-bottom: 3rem;
    padding: 4rem 2rem;
    position: relative;
  }
  
  .hero-overlay {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0,0,0,0.4);
    border-radius: 1rem;
  }
  
  .hero-content {
    position: relative;
    z-index: 2;
    text-align: center;
    max-width: 800px;
  }
  
  .full-width {
    width: 100vw;
    position: relative;
    left: 50%;
    right: 50%;
    margin-left: -50vw;
    margin-right: -50vw;
    padding: 3rem 2rem;
    overflow-x: hidden; /* Prevent horizontal scroll */
  }
  
  .timeline {
    position: relative;
    padding-left: 2rem;
  }
  
  .timeline::before {
    content: '';
    position: absolute;
    left: 1rem;
    top: 0;
    bottom: 0;
    width: 3px;
    background: linear-gradient(to bottom, #6db33f, #4a90e2);
    border-radius: 2px;
  }
  
  .timeline-item {
    position: relative;
    margin-bottom: 2.5rem;
    padding-left: 2rem;
  }
  
  .timeline-item::before {
    content: '';
    position: absolute;
    left: calc(-0.8rem - 9.0px); /* Adjusted to center on the timeline axis */
    top: 0.5rem;
    width: 16px;
    height: 16px;
    background: #fff;
    border: 3px solid #6db33f;
    border-radius: 50%;
    box-shadow: 0 2px 8px rgba(0,0,0,0.1);
  }
  
  .cards-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: 1.5rem;
    margin: 2rem 0;
  }
  
  .persona-card {
    background: #fff;
    border-radius: 12px;
    padding: 1.5rem;
    box-shadow: 0 4px 16px rgba(0,0,0,0.08);
    transition: transform 0.2s, box-shadow 0.2s;
    text-align: center;
  }
  
  .persona-card:hover {
    transform: translateY(-4px);
    box-shadow: 0 8px 24px rgba(0,0,0,0.12);
  }
  
  .persona-avatar {
    width: 80px;
    height: 80px;
    border-radius: 50%;
    margin: 0 auto 1rem;
    background: linear-gradient(135deg, #6db33f, #4a90e2);
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    font-size: 2rem;
    font-weight: bold;
    overflow: hidden;
  }
  
  .persona-avatar img {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }
  
  .ambition-section {
    background: linear-gradient(135deg, #e6f2ff, #f0f8ff);
    text-align: center;
    padding: 2rem;
    border-radius: 1rem;
    overflow: hidden;
    width: 100%;
  }
  
  .ambition-quote {
    font-size: 1.5rem;
    font-weight: 500;
    color: #2c5282;
    margin: 1.5rem 0;
    padding: 2rem;
    background: rgba(255,255,255,0.8);
    border-radius: 12px;
    border-left: 6px solid #6db33f;
  }
  
  .metrics-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 1.5rem;
    margin: 2rem 0;
  }
  
  .metric-card {
    background: #fff;
    padding: 1.5rem;
    border-radius: 12px;
    text-align: center;
    box-shadow: 0 4px 16px rgba(0,0,0,0.08);
    border-top: 4px solid #6db33f;
  }
  
  .metric-value {
    font-size: 2.5rem;
    font-weight: bold;
    color: #6db33f;
    margin-bottom: 0.5rem;
  }
  
  .testimonial {
    background: #f8f9fa;
    border-left: 4px solid #6db33f;
    padding: 1.5rem;
    margin: 1.5rem 0;
    border-radius: 0 8px 8px 0;
    font-style: italic;
  }
  
  .architecture-diagram {
    background: #fff;
    border-radius: 12px;
    padding: 2rem;
    box-shadow: 0 4px 16px rgba(0,0,0,0.08);
    margin: 2rem 0;
  }
  
  .ui-screens-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 2rem;
    margin: 2rem 0;
  }
  
  .ui-screen-card {
    background: #fff;
    border-radius: 12px;
    overflow: hidden;
    box-shadow: 0 4px 16px rgba(0,0,0,0.08);
    transition: transform 0.2s;
  }
  
  .ui-screen-card:hover {
    transform: translateY(-4px);
  }
  
  .ui-screen-placeholder {
    height: 200px;
    background: linear-gradient(135deg, #f0f8ff, #e6f2ff);
    display: flex;
    align-items: center;
    justify-content: center;
    color: #4a90e2;
    font-weight: 500;
  }
  
  .cta-section {
    background: linear-gradient(135deg, #6db33f, #5ca32e);
    color: white;
    text-align: center;
    padding: 3rem 2rem;
    border-radius: 1rem;
    margin: 3rem 0;
  }
  
  .cta-button {
    display: inline-block;
    padding: 1rem 2rem;
    font-family: 'Avenir_Black', sans-serif;
    font-size: 16px;
    text-transform: uppercase;
    text-decoration: none;
    text-align: center;
    border-radius: 7px;
    transition: all 0.2s;
    margin: 0.5rem;
    text-shadow: 1px 1px 1px #000;
  }
  
  .cta-button.primary {
    background: #7BC93D;
    background: linear-gradient(#7BC93D, #559b1e);
    border: 1px solid #559b1e;
    color: #FFF !important;
  }
  
  .cta-button.primary:hover {
    background: #559b1e;
    background: linear-gradient(#559b1e, #7BC93D);
    color: #FFF !important;
    text-decoration: none;
    transform: translateY(-2px);
  }
  
  .cta-button.secondary {
    background: rgba(255,255,255,0.2);
    border: 2px solid white;
    color: white !important;
  }
  
  .cta-button.secondary:hover {
    background: rgba(255,255,255,0.3);
    color: white !important;
    text-decoration: none;
    transform: translateY(-2px);
  }
  
  @media (max-width: 768px) {
    .hero-section {
      min-height: 400px;
      padding: 2rem 1rem;
    }
    
    .cards-grid {
      grid-template-columns: 1fr;
    }
    
    .timeline {
      padding-left: 1rem;
    }
    
    .timeline::before {
      left: 0.5rem;
    }
    
    .timeline-item {
      padding-left: 1.5rem;
    }
  }

  .agent-message {
    padding: 0.75rem 1rem;
    border-radius: 0.75rem;
    max-width: 90%;
    animation: fadeIn 0.5s ease-in-out;
  }

  .from-eunoia {
    background-color: #2c5282; /* Eunoia's blue */
    color: white;
    align-self: flex-start;
  }

  .to-eunoia {
    background-color: #38a169; /* Agent's green */
    color: white;
    align-self: flex-start;
    margin-left: 2rem;
  }
  
  .artifact-display {
    background-color: #1a202c;
    border: 1px solid #4a5568;
    border-radius: 0.5rem;
    padding: 1rem;
    margin: 1rem 2rem;
    animation: flashIn 0.8s ease-in-out;
    white-space: pre-wrap;
    font-family: 'Courier New', Courier, monospace;
    font-size: 0.8rem;
  }
  
  .artifact-display h4 {
    color: #cbd5e0;
    font-weight: bold;
    border-bottom: 1px solid #4a5568;
    padding-bottom: 0.5rem;
    margin-bottom: 0.5rem;
  }

  @keyframes fadeIn {
    from { opacity: 0; transform: translateY(10px); }
    to { opacity: 1; transform: translateY(0); }
  }
  
  @keyframes flashIn {
    0% { opacity: 0; transform: scale(0.95); border-color: #fd7e14; }
    50% { opacity: 1; transform: scale(1.02); border-color: #fd7e14; }
    100% { opacity: 1; transform: scale(1); border-color: #4a5568; }
  }
</style>
{% endblock %}

{% block content %}

<!-- Hero Section -->
<section class="hero-section">
  <div class="hero-overlay"></div>
  <div class="hero-content">
    <h1 class="text-6xl font-extrabold mb-6 text-white">Turning Tangled Prompts into Seamless AI Workflows</h1>
    <p class="text-xl opacity-90 mb-8 text-white max-w-2xl mx-auto">
      How we empowered research teams with modular prompt management, agent chaining, and auditability
    </p>
    <div class="flex flex-wrap justify-center gap-4">
      <a href="{{ url_for('prompts.prompt_list') }}"
         class="cta-button primary">
        Try the Prompt Manager Demo
      </a>
      <a href="#demo" 
         class="cta-button secondary">
        View Live Demo
      </a>
    </div>
  </div>
</section>

<article class="eo-container max-w-6xl mx-auto">
  
  <!-- Context & Business Problem -->
  <section id="context" class="eo-card bg-white p-8 rounded-xl shadow-xl mb-8">
    <h2 class="text-3xl font-bold mb-6 text-gray-800">Context & Challenge</h2>
    <div class="grid md:grid-cols-2 gap-8 items-center">
      <div>
        <p class="text-lg mb-4"><strong>Imagine Alex:</strong> a researcher who spends hours reconstructing a lost prompt version before every session. Modern teams rely on AI agents for interviews, synthesis, and insights—but prompt drift, missing version control, and manual handoffs cause frustration and inconsistent outcomes.</p>
        <p class="text-lg mb-4"><strong>Business Problem:</strong> No structured prompt repository, versioning, or reproducibility. Manual coordination across tools leads to errors, lost context, and wasted time.</p>
        <p class="text-lg"><strong>Success Metrics:</strong> Reusable prompt modules; agent onboarding time reduction; auditability of research sessions.</p>
      </div>
      <div class="text-center">
        <img src="{{ url_for('static', filename='case_studies/eunoia_research_council_context.png') }}" 
             alt="A researcher looking stressed, surrounded by tangled lines connecting prompts, versions, and notes, illustrating a confusing workflow."
             class="rounded-lg shadow-md mx-auto">
      </div>
    </div>
  </section>

  <!-- Ambition Statement -->
  <section class="eo-card bg-white p-8 rounded-xl shadow-xl mb-8">
    <h2 class="text-3xl font-bold mb-4 text-gray-800">Our Ambition</h2>
    <blockquote class="ambition-quote">
      Enable research teams to orchestrate modular AI agents with traceable, versioned prompts for every research session.
    </blockquote>
    <div class="text-center my-6">
        <img src="{{ url_for('static', filename='case_studies/eunoia-research-council.png') }}" 
             alt="Diagram of the Eunoia Research Council agentic AI framework. Eunoia, the Planner & Orchestrator, is at the top, connected to a chain of agents: Synthia (Discovery Planner), Askia (Interview Strategist), Thesea (Journey Architect), Odessia (Journey Mapper), and Inspectica (Audit & Integrity Agent). Below are other specialized agents like Skeptica, Eurekia, and another instance of Inspectica."
             class="rounded-lg shadow-lg mx-auto">
    </div>
  </section>

  <!-- Role & Team -->
  <section id="team" class="eo-card bg-white p-8 rounded-xl shadow-xl mb-8">
    <h2 class="text-3xl font-bold mb-6 text-gray-800">Role & Team</h2>
    <div class="cards-grid">
      <div class="persona-card">
        <div class="persona-avatar" style="background: none;">
          <img src="{{ url_for('static', filename='case_studies/ai-alex-lead-researcher.png') }}" alt="Alex, Lead AI Research Engineer">
        </div>
        <h3 class="text-xl font-semibold mb-2">Lead AI Research Engineer</h3>
        <p>Guided discovery, design, and delivery of modular AI research workflows.</p>
      </div>
      <div class="persona-card">
        <div class="persona-avatar" style="background: none;">
          <img src="{{ url_for('static', filename='case_studies/ux-researcher.png') }}" alt="UX Researcher">
        </div>
        <h3 class="text-xl font-semibold mb-2">UX Researcher</h3>
        <p>Conducted contextual inquiries and usability tests for AI interactions.</p>
      </div>
      <div class="persona-card">
        <div class="persona-avatar" style="background: none;">
          <img src="{{ url_for('static', filename='case_studies/ai-engineer.png') }}" alt="AI Engineer">
        </div>
        <h3 class="text-xl font-semibold mb-2">AI Engineer</h3>
        <p>Built orchestration pipelines and prototype integrations.</p>
      </div>
      <div class="persona-card">
        <div class="persona-avatar" style="background: none;">
          <img src="{{ url_for('static', filename='case_studies/product-manager.png') }}" alt="Product Manager">
        </div>
        <h3 class="text-xl font-semibold mb-2">Product Manager</h3>
        <p>Prioritized features, aligned business goals, and measured impact.</p>
      </div>
    </div>
  </section>

  <!-- Discovery Timeline -->
  <section id="discovery" class="eo-card bg-white p-8 rounded-xl shadow-xl mb-8">
    <h2 class="text-3xl font-bold mb-6 text-gray-800">Discovery Phase (6 weeks)</h2>
    <div class="timeline">
      <div class="timeline-item">
        <h3 class="text-xl font-semibold mb-2">Week 0: Kickoff & Planning</h3>
        <p>Workshoped current workflows: prompt drafting → agent runs → manual handoffs. Identified pain points and success criteria.</p>
        <div class="mt-4 text-center">
            <img src="{{ url_for('static', filename='case_studies/team-workshop-illustration.png') }}" 
                 alt="A diverse team collaborating around a whiteboard, mapping out a workflow from Agent to Audit to Feedback."
                 class="rounded-lg shadow-md mx-auto">
        </div>
      </div>
      <div class="timeline-item">
        <h3 class="text-xl font-semibold mb-2">Stakeholder Interviews & Ambition</h3>
        <p>Interviewed UX researchers, data scientists, product managers. Themes: versioning, chaining, audit trails.</p>
      </div>
      <div class="timeline-item">
        <h3 class="text-xl font-semibold mb-2">Personas & Recruitment</h3>
        <p>Defined personas: Prompt Authors, Agent Orchestrators, Research Ops Managers. Recruited pilot users across skill levels.</p>
      </div>
      <div class="timeline-item">
        <h3 class="text-xl font-semibold mb-2">Field Research</h3>
        <p>Shadowed teams using legacy tools; uncovered prompt drift, lost context, onboarding friction.</p>
        <div class="mt-4 text-center">
            <img src="{{ url_for('static', filename='case_studies/illustration-prompt-drift.png') }}" 
                 alt="A person looking frustrated as a prompt document floats away, with faded version numbers (v1, v2, v3) in the background, illustrating prompt drift."
                 class="rounded-lg shadow-md mx-auto">
        </div>
      </div>
    </div>
  </section>

  <!-- Personas & Journey -->
  <section id="personas" class="eo-card bg-white p-8 rounded-xl shadow-xl mb-8">
    <h2 class="text-3xl font-bold mb-6 text-gray-800">Personas & Journey Mapping</h2>
    <div class="cards-grid">
      <div class="persona-card">
        <div class="persona-avatar" style="background: none;">
          <img src="{{ url_for('static', filename='case_studies/alex-ai-prompt-author.png') }}" alt="Alex, Prompt Author">
        </div>
        <h3 class="text-xl font-semibold mb-2">Alex, Prompt Author</h3>
        <p class="text-gray-600 italic">"I lost the prompt version I tested last month—now I have to recreate it from memory."</p>
      </div>
      <div class="persona-card">
        <div class="persona-avatar" style="background: none;">
          <img src="{{ url_for('static', filename='case_studies/jordan-agent-orchestrator.png') }}" alt="Jordan, Agent Orchestrator">
        </div>
        <h3 class="text-xl font-semibold mb-2">Jordan, Agent Orchestrator</h3>
        <p class="text-gray-600 italic">"Chaining agents is manual and error-prone; JSON mismatches break flows unexpectedly."</p>
      </div>
      <div class="persona-card">
        <div class="persona-avatar" style="background: none;">
          <img src="{{ url_for('static', filename='case_studies/morgan-ops-manager.png') }}" alt="Morgan, Research Ops Manager">
        </div>
        <h3 class="text-xl font-semibold mb-2">Morgan, Research Ops Manager</h3>
        <p class="text-gray-600 italic">"Auditing past sessions is a nightmare without clear logs; compliance feels risky."</p>
      </div>
    </div>
    <div class="architecture-diagram mt-8">
      <h3 class="text-xl font-semibold mb-4">Journey Map - Day in the Life of a Prompt</h3>
      <div class="text-center">
        <img src="{{ url_for('static', filename='case_studies/journey-map-prompt-lifecycle.png') }}" 
             alt="A journey map illustrating the current state of the prompt lifecycle. It shows three user personas—Alex, Jordan, and Morgan—and their pain points. Below, a workflow diagram shows the frustrating process from drafting a prompt to losing versions and manual handoffs."
             class="rounded-lg shadow-md mx-auto">
      </div>
    </div>
  </section>

  <!-- Opportunities & Prioritization -->
  <section id="opportunities" class="eo-card bg-white p-8 rounded-xl shadow-xl mb-8">
    <h2 class="text-3xl font-bold mb-6 text-gray-800">Opportunities & Prioritization</h2>
    <div class="cards-grid">
      <div class="card bg-blue-50 p-4 rounded-lg border-l-4 border-blue-500">
        <strong>HMW version and diff prompts?</strong>
      </div>
      <div class="card bg-green-50 p-4 rounded-lg border-l-4 border-green-500">
        <strong>HMW chain agents with schema validation?</strong>
      </div>
      <div class="card bg-purple-50 p-4 rounded-lg border-l-4 border-purple-500">
        <strong>HMW log and replay sessions for audit?</strong>
      </div>
      <div class="card bg-orange-50 p-4 rounded-lg border-l-4 border-orange-500">
        <strong>HMW capture feedback loops to refine prompts?</strong>
      </div>
    </div>
    <div class="architecture-diagram mt-8">
      <h3 class="text-xl font-semibold mb-4">Prioritization Matrix</h3>
      <div class="text-center">
        <img src="{{ url_for('static', filename='case_studies/effort-impact-quick-wins.png') }}" 
             alt="An effort vs. impact matrix identifying quick wins, major projects, fill-ins, and thankless tasks for prioritizing opportunities."
             class="rounded-lg shadow-md mx-auto">
      </div>
    </div>
  </section>

  <!-- Solution & Prototyping -->
  <section id="solution" class="eo-card bg-white p-8 rounded-xl shadow-xl mb-8">
    <h2 class="text-3xl font-bold mb-6 text-gray-800">Solution & Prototyping</h2>
    <h3 class="text-2xl font-semibold mb-4">Architecture Overview</h3>
    <div class="architecture-diagram text-center">
        <img src="{{ url_for('static', filename='case_studies/architecture-prompt-orchestration.png') }}" 
             alt="An architecture diagram showing the components of the prompt orchestration system: Prompt Store, Agent Registry, Orchestration Engine, Audit Log, Feedback, and Analytics."
             class="rounded-lg shadow-md mx-auto">
    </div>

    <h3 class="text-2xl font-semibold mb-6 mt-8">Key UI Screens</h3>
    <div class="ui-screens-grid">
      <div class="ui-screen-card">
        <img src="{{ url_for('static', filename='case_studies/prompt-repository-ui.png') }}" alt="Prompt Repository UI" class="object-cover h-48 w-full">
        <div class="p-4">
          <p><strong>Prompt Repository</strong>: Browse, version, tag, fork modules.</p>
        </div>
      </div>
      <div class="ui-screen-card">
        <img src="{{ url_for('static', filename='case_studies/chaining-editor-ui.png') }}" alt="Chaining Editor UI" class="object-cover h-48 w-full">
        <div class="p-4">
          <p><strong>Chaining Editor</strong>: Visual flow, schema validation, sandbox run.</p>
        </div>
      </div>
      <div class="ui-screen-card">
        <img src="{{ url_for('static', filename='case_studies/session-audit-ui.png') }}" alt="Session Audit UI" class="object-cover h-48 w-full">
        <div class="p-4">
          <p><strong>Session Audit</strong>: View prompt/agent versions, parameters, replay.</p>
        </div>
      </div>
      <div class="ui-screen-card">
        <img src="{{ url_for('static', filename='case_studies/feedback-dashboard.png') }}" alt="Feedback Dashboard UI" class="object-cover h-48 w-full">
        <div class="p-4">
          <p><strong>Feedback Dashboard</strong>: Rate outputs, aggregate insights.</p>
        </div>
      </div>
      <div class="ui-screen-card">
        <img src="{{ url_for('static', filename='case_studies/analytic-dashboard-ui.png') }}" alt="Analytics Dashboard UI" class="object-cover h-48 w-full">
        <div class="p-4">
          <p><strong>Analytics</strong>: Prompt reuse, onboarding time, reproducibility metrics.</p>
        </div>
      </div>
    </div>
  </section>

  <!-- Outcomes & Impact -->
  <section id="outcomes" class="eo-card bg-white p-8 rounded-xl shadow-xl mb-8">
    <h2 class="text-3xl font-bold mb-6 text-gray-800">Outcomes & Impact</h2>
    <div class="grid md:grid-cols-2 gap-8 items-center mb-8">
      <div>
        <h3 class="text-2xl font-semibold mb-4">Before & After</h3>
        <ul class="space-y-3">
          <li class="flex items-center">
            <span class="text-red-500 mr-2">❌</span>
            <span class="line-through mr-2">~50% manual tracking</span>
            <span class="text-green-500 mr-2">→</span>
            <span class="font-semibold text-green-600">100% tracked & diffed</span>
          </li>
          <li class="flex items-center">
            <span class="text-red-500 mr-2">❌</span>
            <span class="line-through mr-2">~5 days</span>
            <span class="text-green-500 mr-2">→</span>
            <span class="font-semibold text-green-600">~2 days</span>
          </li>
          <li class="flex items-center">
            <span class="text-red-500 mr-2">❌</span>
            <span class="line-through mr-2">20% reproducible</span>
            <span class="text-green-500 mr-2">→</span>
            <span class="font-semibold text-green-600">100% reproducible in saved sessions</span>
          </li>
        </ul>
      </div>
      <div class="text-center">
        <div class="ui-screen-placeholder">
          <div class="text-center">
            <div class="text-4xl mb-2">📈</div>
            <p>Chart showing onboarding time reduction</p>
          </div>
        </div>
      </div>
    </div>
    
    <h3 class="text-2xl font-semibold mb-4">Testimonials</h3>
    <div class="space-y-4">
      <div class="testimonial">
        "The modular prompt manager made it easy to experiment, iterate, and scale our research agents." — UX Researcher
      </div>
      <div class="testimonial">
        "Agent chaining UI eliminated endless scripting; I can visually validate data flows." — AI Engineer
      </div>
      <div class="testimonial">
        "Audit logs and replay feature give me confidence for compliance." — Research Ops Manager
      </div>
    </div>
  </section>

  <!-- Reflections & Next Steps -->
  <section id="learnings" class="eo-card bg-white p-8 rounded-xl shadow-xl mb-8">
    <h2 class="text-3xl font-bold mb-6 text-gray-800">Reflections & Learnings</h2>
    <div class="cards-grid">
      <div class="card bg-green-50 p-6 rounded-lg border-l-4 border-green-500">
        <h3 class="text-xl font-semibold mb-3 text-green-800">What Went Well</h3>
        <ul class="space-y-2 text-green-700">
          <li>• Modular versioning prevented prompt drift and encouraged reuse.</li>
          <li>• Visual and code-based chaining modes satisfied diverse users.</li>
          <li>• Auditability by design built trust and simplified compliance.</li>
          <li>• Iterative testing caught usability issues early.</li>
          <li>• Feedback engine drove continuous prompt improvement.</li>
        </ul>
      </div>
      <div class="card bg-orange-50 p-6 rounded-lg border-l-4 border-orange-500">
        <h3 class="text-xl font-semibold mb-3 text-orange-800">Challenges & Mitigations</h3>
        <ul class="space-y-2 text-orange-700">
          <li>• Chaining complexity: started with common schemas, then advanced options.</li>
          <li>• UI vs code: offered dual modes (visual editor + JSON editor).</li>
          <li>• Log scale: retention policies and indexing for performance.</li>
          <li>• Permissions: role-based defaults simplified sharing/forking.</li>
          <li>• Feedback consistency: structured rating + comment forms.</li>
        </ul>
      </div>
      <div class="card bg-blue-50 p-6 rounded-lg border-l-4 border-blue-500">
        <h3 class="text-xl font-semibold mb-3 text-blue-800">Next Steps</h3>
        <ul class="space-y-2 text-blue-700">
          <li>• Integrate authentication & fine-grained roles.</li>
          <li>• Expand agent ecosystem with plugin architecture.</li>
          <li>• Advanced analytics & recommendations for prompt modules.</li>
          <li>• Collaborative workspaces (real-time editing, notifications).</li>
          <li>• Automated prompt testing pipelines for CI workflows.</li>
        </ul>
      </div>
    </div>
    <div class="architecture-diagram mt-8">
      <h3 class="text-xl font-semibold mb-4">Roadmap</h3>
      <div class="text-center">
        <svg viewBox="0 0 1200 400" xmlns="http://www.w3.org/2000/svg" class="w-full h-auto">
          <defs>
            <!-- Define gradients -->
            <linearGradient id="primaryGradient" x1="0%" y1="0%" x2="100%" y2="100%">
              <stop offset="0%" style="stop-color:#667eea;stop-opacity:1" />
              <stop offset="100%" style="stop-color:#764ba2;stop-opacity:1" />
            </linearGradient>
            
            <linearGradient id="completedGradient" x1="0%" y1="0%" x2="100%" y2="100%">
              <stop offset="0%" style="stop-color:#28a745;stop-opacity:1" />
              <stop offset="100%" style="stop-color:#20c997;stop-opacity:1" />
            </linearGradient>
            
            <linearGradient id="currentGradient" x1="0%" y1="0%" x2="100%" y2="100%">
              <stop offset="0%" style="stop-color:#ffc107;stop-opacity:1" />
              <stop offset="100%" style="stop-color:#fd7e14;stop-opacity:1" />
            </linearGradient>
            
            <!-- Shadow filter -->
            <filter id="shadow" x="-20%" y="-20%" width="140%" height="140%">
              <feDropShadow dx="0" dy="4" stdDeviation="4" flood-color="rgba(0,0,0,0.1)"/>
            </filter>
          </defs>
          
          <!-- Background -->
          <rect width="1200" height="400" fill="#f8f9fa" rx="16"/>
          
          <!-- Title -->
          <text x="600" y="40" text-anchor="middle" fill="#1a1a1a" font-family="system-ui, -apple-system, sans-serif" font-size="28" font-weight="700">Product Roadmap 2025</text>
          
          <!-- Main timeline line -->
          <line x1="100" y1="200" x2="1100" y2="200" stroke="#e1e5e9" stroke-width="4" stroke-linecap="round"/>
          
          <!-- Milestone 1: Authentication & Roles (Completed) -->
          <g transform="translate(150, 200)">
            <!-- Connection line -->
            <line x1="0" y1="0" x2="0" y2="0" stroke="url(#completedGradient)" stroke-width="4"/>
            <!-- Node circle -->
            <circle cx="0" cy="0" r="24" fill="url(#completedGradient)" filter="url(#shadow)"/>
            <!-- Lock icon -->
            <g transform="translate(-8, -8)">
              <rect x="2" y="6" width="12" height="8" rx="1" fill="white" stroke="none"/>
              <rect x="4" y="4" width="8" height="4" rx="2" fill="none" stroke="white" stroke-width="2"/>
            </g>
            <!-- Label -->
            <text y="45" text-anchor="middle" fill="#1a1a1a" font-family="system-ui" font-size="12" font-weight="600">Authentication</text>
            <text y="58" text-anchor="middle" fill="#666" font-family="system-ui" font-size="12">& Roles</text>
            <!-- Status badge -->
            <rect x="-20" y="-40" width="40" height="16" rx="8" fill="url(#completedGradient)" opacity="0.9"/>
            <text y="-31" text-anchor="middle" fill="white" font-family="system-ui" font-size="10" font-weight="600">DONE</text>
          </g>
          
          <!-- Milestone 2: Orchestration Expansion (Current) -->
          <g transform="translate(300, 200)">
            <!-- Node circle -->
            <circle cx="0" cy="0" r="28" fill="url(#currentGradient)" filter="url(#shadow)" stroke="white" stroke-width="3"/>
            <!-- Chain icon -->
            <g transform="translate(-10, -6)" fill="white">
              <circle cx="4" cy="3" r="3" fill="none" stroke="white" stroke-width="2"/>
              <circle cx="12" cy="3" r="3" fill="none" stroke="white" stroke-width="2"/>
              <circle cx="8" cy="9" r="3" fill="none" stroke="white" stroke-width="2"/>
              <line x1="6.5" y1="4.5" x2="9.5" y2="7.5" stroke="white" stroke-width="2"/>
              <line x1="9.5" y1="4.5" x2="6.5" y2="7.5" stroke="white" stroke-width="2"/>
            </g>
            <!-- Label -->
            <text y="50" text-anchor="middle" fill="#1a1a1a" font-family="system-ui" font-size="12" font-weight="600">Expand</text>
            <text y="63" text-anchor="middle" fill="#1a1a1a" font-family="system-ui" font-size="12" font-weight="600">Orchestration</text>
            <!-- Status badge -->
            <rect x="-25" y="-45" width="50" height="16" rx="8" fill="url(#currentGradient)" opacity="0.9"/>
            <text y="-36" text-anchor="middle" fill="white" font-family="system-ui" font-size="10" font-weight="600">IN PROGRESS</text>
            <!-- Pulse animation -->
            <circle cx="0" cy="0" r="28" fill="none" stroke="url(#currentGradient)" stroke-width="2" opacity="0.4">
              <animate attributeName="r" values="28;35;28" dur="2s" repeatCount="indefinite"/>
              <animate attributeName="opacity" values="0.4;0;0.4" dur="2s" repeatCount="indefinite"/>
            </circle>
          </g>
          
          <!-- Milestone 3: Memory Performance -->
          <g transform="translate(450, 200)">
            <!-- Node circle -->
            <circle cx="0" cy="0" r="24" fill="url(#primaryGradient)" filter="url(#shadow)"/>
            <!-- Speedometer icon -->
            <g transform="translate(-8, -8)" fill="white">
              <circle cx="8" cy="8" r="6" fill="none" stroke="white" stroke-width="2"/>
              <line x1="8" y1="8" x2="12" y2="6" stroke="white" stroke-width="2" stroke-linecap="round"/>
              <circle cx="8" cy="8" r="1" fill="white"/>
            </g>
            <!-- Label -->
            <text y="45" text-anchor="middle" fill="#1a1a1a" font-family="system-ui" font-size="12" font-weight="600">Memory</text>
            <text y="58" text-anchor="middle" fill="#666" font-family="system-ui" font-size="12">Performance</text>
            <!-- Quarter indicator -->
            <text y="-35" text-anchor="middle" fill="#667eea" font-family="system-ui" font-size="10" font-weight="600">Q2 2025</text>
          </g>
          
          <!-- Milestone 4: Semantic Memory -->
          <g transform="translate(600, 200)">
            <!-- Node circle -->
            <circle cx="0" cy="0" r="24" fill="url(#primaryGradient)" filter="url(#shadow)"/>
            <!-- Brain/Network icon -->
            <g transform="translate(-8, -8)" fill="white">
              <circle cx="4" cy="6" r="2" fill="white"/>
              <circle cx="12" cy="4" r="2" fill="white"/>
              <circle cx="8" cy="10" r="2" fill="white"/>
              <circle cx="12" cy="12" r="2" fill="white"/>
              <line x1="6" y1="6" x2="10" y2="4" stroke="white" stroke-width="1.5"/>
              <line x1="6" y1="8" x2="6" y2="10" stroke="white" stroke-width="1.5"/>
              <line x1="10" y1="10" x2="10" y2="12" stroke="white" stroke-width="1.5"/>
              <line x1="10" y1="6" x2="10" y2="8" stroke="white" stroke-width="1.5"/>
            </g>
            <!-- Label -->
            <text y="45" text-anchor="middle" fill="#1a1a1a" font-family="system-ui" font-size="12" font-weight="600">Semantic</text>
            <text y="58" text-anchor="middle" fill="#666" font-family="system-ui" font-size="12">Memory</text>
            <!-- Quarter indicator -->
            <text y="-35" text-anchor="middle" fill="#667eea" font-family="system-ui" font-size="10" font-weight="600">Q3 2025</text>
          </g>
          
          <!-- Milestone 5: Collaborative Features -->
          <g transform="translate(750, 200)">
            <!-- Node circle -->
            <circle cx="0" cy="0" r="24" fill="url(#primaryGradient)" filter="url(#shadow)"/>
            <!-- People icon -->
            <g transform="translate(-8, -8)" fill="white">
              <circle cx="5" cy="4" r="2" fill="white"/>
              <circle cx="11" cy="4" r="2" fill="white"/>
              <path d="M2 14 C2 11 3.5 9 5 9 C6.5 9 8 11 8 14" stroke="white" fill="none" stroke-width="1.5"/>
              <path d="M8 14 C8 11 9.5 9 11 9 C12.5 9 14 11 14 14" stroke="white" fill="none" stroke-width="1.5"/>
            </g>
            <!-- Label -->
            <text y="45" text-anchor="middle" fill="#1a1a1a" font-family="system-ui" font-size="12" font-weight="600">Collaborative</text>
            <text y="58" text-anchor="middle" fill="#666" font-family="system-ui" font-size="12">Features</text>
            <!-- Quarter indicator -->
            <text y="-35" text-anchor="middle" fill="#667eea" font-family="system-ui" font-size="10" font-weight="600">Q4 2025</text>
          </g>
          
          <!-- Milestone 6: Automated Testing -->
          <g transform="translate(900, 200)">
            <!-- Node circle -->
            <circle cx="0" cy="0" r="24" fill="url(#primaryGradient)" filter="url(#shadow)"/>
            <!-- Gear/Test icon -->
            <g transform="translate(-8, -8)" fill="white">
              <circle cx="8" cy="8" r="3" fill="none" stroke="white" stroke-width="1.5"/>
              <path d="M8 2 L9 5 L12 4 L11 7 L14 8 L11 9 L12 12 L9 11 L8 14 L7 11 L4 12 L5 9 L2 8 L5 7 L4 4 L7 5 Z" stroke="white" fill="none" stroke-width="1"/>
            </g>
            <!-- Label -->
            <text y="45" text-anchor="middle" fill="#1a1a1a" font-family="system-ui" font-size="12" font-weight="600">Automated</text>
            <text y="58" text-anchor="middle" fill="#666" font-family="system-ui" font-size="12">Testing</text>
            <!-- Quarter indicator -->
            <text y="-35" text-anchor="middle" fill="#667eea" font-family="system-ui" font-size="10" font-weight="600">Q1 2026</text>
          </g>
          
          <!-- Milestone 7: Advanced Analytics -->
          <g transform="translate(1050, 200)">
            <!-- Node circle -->
            <circle cx="0" cy="0" r="24" fill="url(#primaryGradient)" filter="url(#shadow)"/>
            <!-- Chart/Analytics icon -->
            <g transform="translate(-8, -8)" fill="white">
              <rect x="2" y="10" width="2" height="4" fill="white"/>
              <rect x="5" y="8" width="2" height="6" fill="white"/>
              <rect x="8" y="6" width="2" height="8" fill="white"/>
              <rect x="11" y="4" width="2" height="10" fill="white"/>
              <line x1="2" y1="2" x2="14" y2="2" stroke="white" stroke-width="1"/>
              <line x1="2" y1="2" x2="2" y2="14" stroke="white" stroke-width="1"/>
            </g>
            <!-- Label -->
            <text y="45" text-anchor="middle" fill="#1a1a1a" font-family="system-ui" font-size="12" font-weight="600">Advanced</text>
            <text y="58" text-anchor="middle" fill="#666" font-family="system-ui" font-size="12">Analytics</text>
            <!-- Quarter indicator -->
            <text y="-35" text-anchor="middle" fill="#667eea" font-family="system-ui" font-size="10" font-weight="600">Q2 2026</text>
          </g>
          
          <!-- Progress indicator at bottom -->
          <g transform="translate(150, 320)">
            <rect x="0" y="0" width="900" height="8" rx="4" fill="#e1e5e9"/>
            <rect x="0" y="0" width="150" height="8" rx="4" fill="url(#completedGradient)"/>
            <text x="450" y="25" text-anchor="middle" fill="#666" font-family="system-ui" font-size="12">Progress: 17% Complete</text>
          </g>
          
          <!-- Legend -->
          <g transform="translate(50, 350)">
            <circle cx="8" cy="8" r="6" fill="url(#completedGradient)"/>
            <text x="20" y="12" fill="#666" font-family="system-ui" font-size="11">Completed</text>
            
            <circle cx="100" cy="8" r="6" fill="url(#currentGradient)"/>
            <text x="112" y="12" fill="#666" font-family="system-ui" font-size="11">In Progress</text>
            
            <circle cx="200" cy="8" r="6" fill="url(#primaryGradient)"/>
            <text x="212" y="12" fill="#666" font-family="system-ui" font-size="11">Planned</text>
          </g>
        </svg>
      </div>
    </div>
  </section>

  <!-- Call to Action -->
  <section class="cta-section">
    <h2 class="text-3xl font-bold mb-4">Ready to Transform Your AI Research Workflows?</h2>
    <p class="text-xl mb-6 opacity-90">Explore Eunoia Memory Companion or request a demo to see how modular prompt management and agent chaining can accelerate your insights.</p>
    <a href="#demo" class="cta-button primary">Request a Demo</a>
  </section>

</article>

<!-- Live Demo Section -->
<section id="demo" class="eo-card bg-blue-50 p-8 rounded-xl shadow-xl mb-8 max-w-4xl mx-auto">
  <h2 class="text-3xl font-bold mb-6 text-gray-800">Live Agent Messaging Demo</h2>
  <form id="send-message-form" class="mb-6 flex gap-4">
    <input type="text" id="message-content" class="flex-1 border rounded-lg px-4 py-3 text-lg" placeholder="Type a message as Eunoia..." required>
    <button type="submit" class="cta-button primary">Send to Synthia</button>
  </form>
  <div>
    <h3 class="text-xl font-semibold mb-4">Synthia's Inbox</h3>
    <ul id="inbox-list" class="bg-white rounded-lg p-4 shadow max-h-64 overflow-y-auto space-y-2"></ul>
  </div>
</section>

<script>
  async function fetchInbox() {
    const res = await fetch('/demo-messaging/inbox');
    if (!res.ok) return;
    const data = await res.json();
    const inbox = data.inbox || [];
    const list = document.getElementById('inbox-list');
    if (!list) return;
    list.innerHTML = '';
    inbox.forEach(msg => {
      const li = document.createElement('li');
      li.className = 'p-3 border-b border-gray-100 last:border-b-0 bg-gray-50 rounded';
      li.innerHTML = `
        <div class="flex items-center justify-between">
          <span class="font-medium text-gray-700">${msg.sender}</span>
          <span class="text-sm text-gray-500">${msg.timestamp}</span>
        </div>
        <p class="text-gray-600 mt-1">${msg.content}</p>
      `;
      list.appendChild(li);
    });
  }

  const messageForm = document.getElementById('send-message-form');
  if (messageForm) {
      messageForm.addEventListener('submit', async (e) => {
        e.preventDefault();
        const contentInput = document.getElementById('message-content');
        const content = contentInput.value;
        await fetch('/demo-messaging/send', {
          method: 'POST',
          headers: {'Content-Type': 'application/json'},
          body: JSON.stringify({content})
        });
        contentInput.value = '';
        fetchInbox();
      });
  }

  // Initial and periodic inbox refresh
  fetchInbox();
  setInterval(fetchInbox, 5000);
</script>

{% endblock %} 